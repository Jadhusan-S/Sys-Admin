--CONFIGURE FTP SERVER--

--CONFIGURATIONS

hostnamectl set-hostname ftpserver.example.com
hostnamectl --to check hostname
ifconfig
dnf makecache --to downloads and caches in binary format metadata for all known repositories. 
rpm -qa vsftpd
rpm -qi vsftpd
dnf install vsftpd -y
systemctl status vsftpd
systemctl enable vsftpd
systemctl start vsftpd
firewall-cmd --zone=public --permanent --add-service=ftp
firewall-cmd --zone=public --permanent --add-port=21/tcp
firewall-cmd --info-service=ftp --information related to ftp
firewall-cmd --reload --to enable roots
firewall-cmd --list-all
cd /etc/vsftpd/
ls
nano ftpusers
nano user_list

cd
nano /etc/vstfpd/vsftpd.conf
cp -p /etc/vsftpd/vsftpd.conf /etc/vsftpd/vsftpd.conf.bak
ls /etc/vsftpd/
nano /etc/vsftpd/vsftpd.conf
man vsftpd.conf.5

anonymous enable=YES --allow anyone to access your ftp server 
systemctl restart vsftpd

man to edit the parameters

cd /var/ftp/pub/ --default 
ifconfig
open browser
--root 
--server

ls -l /home/server

nano /etc/vsftpd/vsftpd.conf
#chroot_local_user=YES --remove the comment
userlist_enable=NO
userlist_deny=NO

nano /etc/vsftpd/ftpusers

nano /etc/vsftpd/user_list
#root --remove the comment 

systemctl restart vsftpd

chroot_local_user=YES   
allow_writeable_chroot=YES

--ADD FTP USER--
useradd ftpuser -d /ftpuserdata
ls -ld /ftpuserdata/
passwd ftpuser
cat /etc/passwd |grep ftpuser
cat /etc/shadow |grep ftpuser
cd /ftpuserdata/
mkdir project1
touch ftpuserfile1
ls
cd

getenforce 
nano /etc/sysc
nano /etc/sysconfig/selinux

ls -ldZ /var/ftp/pub/ --Z-to display selinux type

cd /var/ftp/pub/
touch 123
ls -lZ /var/ftp/pub/123
mkdir test
ls -ldZ /var/ftp/pub/test

man semanage-fcontext text --manage selinux policies

semanage fcontext -a -t public_content_t "/ftpuserdata(/.*)?"
restorecon -R -v /ftpuserdata
ls -ldZ /ftpuserdata/
mkdir /ftpuserdata/test1
touch /ftpuserdata/userdatadoc
ls -ldZ /ftpuserdata/test1/
systemctl restart vsftpd

--SECURING--
open ssl and to encrypt ftp transmission
1.install open ssl
2.configure ssl certicate on ftp server

ftp 192.168.202.128 or fqdn
ftpuser
get userdatadoc --get to download
put projectdetails --put to upload
ls
exit --to logout

dnf install openssl
cd /etc/ssl/certs/
ls
cd /etc/pki/tls/private/ ---place where we store keys

openssl req -newkey rsa:4096 \
-x509 \ --create a x509 certificate
-sha512 \
-days 3650 \
-nodes \ --create a key without passspace
-out ftpserver.crt \ ---file name to write the newly created private key
-keyout ftpserver.key 

SL
WP
COLOMBO
redhat
IT
ftpserver.example.com
admin@example.com
pwd
ls -l
nano ftpserver.crt
nano ftpserver.key
nano /etc/vsftpd/vsftpd.conf

openssl req -newkey rsa:2048 -x509 -sha512 -days 3650 -nodes -out ftpserver.crt -keyout ftpserver.key








